<div class="post-tools textual">
  <span class="mutation">
<?r if logged_in? ?>
    <?r if @post.like_by(account.member) ?>
      <a href="#" class="unlike" data-post-like-id="#{@post.like_by(account.member).id}">#{_('unlike')}</a>
      <a href="#" class="like hidden">#{_('like')}</a>
    <?r else ?>
      <a href="#" class="like">#{_('like')}</a>
      <a href="#" class="unlike hidden">#{_('unlike')}</a>
    <?r end ?>
<?r end ?>

    <?r if @excerpt_links ?>
      <a href="#" class="comment">#{_('comment')}</a>
    <?r end ?>

<?r if logged_in? ?>
    <?r if @post.read_by?(account) ?>
      <a class="mark-unread" href="#">#{_('mark unread')}</a>
      <a class="mark-read hidden" href="#">#{_('mark read')}</a>
    <?r else ?>
      <a class="mark-unread hidden" href="#">#{_('mark unread')}</a>
      <a class="mark-read" href="#">#{_('mark read')}</a>
    <?r end ?>
<?r end ?>
  </span>

  <br />

  <?r if @excerpt_links ?>
    <a href="/posts/show/#{@post.id}" title="#{_('Middle click, Shift-click, or Ctrl-Shift-click to open in new tab/window')}">#{_('view post')}</a>
  <?r end ?>

<?r if logged_in? ?>
  <?r if ! account.subscribed_to?(@post) ?>
    <a href="#" class="subscribe" title="#{_('Start receiving notifications about comments on this post')}">#{_('subscribe')}</a>
    <a href="#" class="unsubscribe hidden" title="#{_('Stop receiving notifications about comments on this post')}">#{_('unsubscribe')}</a>
  <?r else ?>
    <a href="#" class="subscribe hidden" title="#{_('Start receiving notifications about comments on this post')}">#{_('subscribe')}</a>
    <a href="#" class="unsubscribe" title="#{_('Stop receiving notifications about comments on this post')}">#{_('unsubscribe')}</a>
  <?r end ?>

  <?r if @post.collected_by?(account) ?>
    <?r if @pool && @pool.member.id == account.member.id ?>
    <a class="remove" data-pool-id="#{@pool.id}" href="#" title="#{_('Remove this post from this pool')}">#{_('remove')}</a>
    <?r else ?>
    <a class="collect collected" href="#" title="#{_('Collect this post in a pool')}">#{_('collected')}</a>
    <a class="collect hidden" href="#" title="#{_('Collect this post in a pool')}">#{_('collect')}</a>
    <?r end ?>
  <?r else ?>
    <a class="collect" href="#" title="#{_('Collect this post in a pool')}">#{_('collect')}</a>
    <a class="collect collected hidden" href="#" title="#{_('Collect this post in a pool')}">#{_('collected')}</a>
  <?r end ?>

  <span class="admin">
    <?r if @post.member.id == account.member.id ?>
      <a href="/posts/edit/#{@post.id}" class="edit">#{_('edit')}</a>
      <a href="/posts/destroy/#{@post.id}" data-msg="#{_('Delete this post?')}" class="delete">#{_('delete')}</a>
    <?r else ?>
      <a class="hide" href="#" title="#{_('Hiding a post prevents it from showing in your rivers or triggering notifications.')}">#{_('hide')}</a>
      <a class="confirm-hide" href="#" title="#{_('Click to confirm hiding of this post.')}">#{_('confirm')}</a>
    <?r end ?>
  </span>
<?r end ?>
</div>
